<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OMOPCDMFeasibility | OMOPCDMFeasibility.jl</title>
    <meta name="description" content="Documentation for OMOPCDMFeasibility.jl">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/assets/style.DhinB3Rr.css" as="style">
    <link rel="preload stylesheet" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/vp-icons.css" as="style">
    
    <script type="module" src="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/assets/app.DsjfOmtb.js"></script>
    <link rel="preload" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/assets/chunks/theme.C9uuM6sO.js">
    <link rel="modulepreload" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/assets/chunks/framework.Y6ynj03V.js">
    <link rel="modulepreload" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/assets/api.md.B85eYiyt.lean.js">
    <script src="/juliahealth.github.io/versions.js"></script>
    <script src="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/siteinfo.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-a9a9e638><!--[--><!--]--><!--[--><span tabindex="-1" data-v-492508fc></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-492508fc>Skip to content</a><!--]--><!----><header class="VPNav" data-v-a9a9e638 data-v-f1e365da><div class="VPNavBar" data-v-f1e365da data-v-822684d1><div class="wrapper" data-v-822684d1><div class="container" data-v-822684d1><div class="title" data-v-822684d1><div class="VPNavBarTitle has-sidebar" data-v-822684d1 data-v-0f4f798b><a class="title" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/" data-v-0f4f798b><!--[--><!--]--><!--[--><img class="VPImage logo" src="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/logo.png" width="24" height="24" alt data-v-35a7d0b8><!--]--><span data-v-0f4f798b>OMOPCDMFeasibility.jl</span><!--[--><!--]--></a></div></div><div class="content" data-v-822684d1><div class="content-body" data-v-822684d1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-822684d1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-822684d1 data-v-e6d46098><span id="main-nav-aria-label" class="visually-hidden" data-v-e6d46098> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/index" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/about" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>About</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/quickstart" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Quickstart</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/precohort" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Pre-Cohort Analysis</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/postcohort" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>Post-Cohort Analysis</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/api" tabindex="0" data-v-e6d46098 data-v-956ec74c><!--[--><span data-v-956ec74c>API</span><!--]--></a><!--]--><!--[--><!----><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-822684d1 data-v-af096f4a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-af096f4a data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-822684d1 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-822684d1 data-v-925effce data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-04f5c5e9><span class="vpi-more-horizontal icon" data-v-04f5c5e9></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--[--><!----><div class="group" data-v-925effce><div class="item appearance" data-v-925effce><p class="label" data-v-925effce>Appearance</p><div class="appearance-action" data-v-925effce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-925effce data-v-e40a8bb6 data-v-4a1c76db><span class="check" data-v-4a1c76db><span class="icon" data-v-4a1c76db><!--[--><span class="vpi-sun sun" data-v-e40a8bb6></span><span class="vpi-moon moon" data-v-e40a8bb6></span><!--]--></span></span></button></div></div></div><div class="group" data-v-925effce><div class="item social-links" data-v-925effce><div class="VPSocialLinks social-links-list" data-v-925effce data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-d26d30cb><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="Enhanced Readability" role="menuitem" data-v-04f5c5e9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-04f5c5e9><span class="text" data-v-04f5c5e9><span class="i-icon-park-outline:book-open option-icon" data-v-04f5c5e9></span><!----><span class="vpi-chevron-down text-icon" data-v-04f5c5e9></span></span></button><div class="menu" data-v-04f5c5e9><div class="VPMenu" data-v-04f5c5e9 data-v-7dd3104a><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-822684d1 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><div class="divider" data-v-822684d1><div class="divider-line" data-v-822684d1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-a9a9e638 data-v-070ab83d><div class="container" data-v-070ab83d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-070ab83d><span class="vpi-align-left menu-icon" data-v-070ab83d></span><span class="menu-text" data-v-070ab83d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-070ab83d data-v-168ddf5d><button data-v-168ddf5d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-a9a9e638 data-v-18756405><div class="curtain" data-v-18756405></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-18756405><span class="visually-hidden" id="sidebar-aria-label" data-v-18756405> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-9e426adc><section class="VPSidebarItem level-0 has-active" data-v-9e426adc data-v-a4b0d9bf><!----><div class="items" data-v-a4b0d9bf><!--[--><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/index" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/about" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>About</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/quickstart" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Quickstart</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/precohort" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Pre-Cohort Analysis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/postcohort" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>Post-Cohort Analysis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-a4b0d9bf data-v-a4b0d9bf><div class="item" data-v-a4b0d9bf><div class="indicator" data-v-a4b0d9bf></div><a class="VPLink link link" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/api" data-v-a4b0d9bf><!--[--><p class="text" data-v-a4b0d9bf>API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-a9a9e638 data-v-91765379><div class="VPDoc has-sidebar has-aside" data-v-91765379 data-v-83890dd9><!--[--><!--]--><div class="container" data-v-83890dd9><div class="aside" data-v-83890dd9><div class="aside-curtain" data-v-83890dd9></div><div class="aside-container" data-v-83890dd9><div class="aside-content" data-v-83890dd9><div class="VPDocAside" data-v-83890dd9 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6d7b3c46 data-v-b38bf2ff><div class="content" data-v-b38bf2ff><div class="outline-marker" data-v-b38bf2ff></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-b38bf2ff>On this page</div><ul class="VPDocOutlineItem root" data-v-b38bf2ff data-v-3f927ebe><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-83890dd9><div class="content-container" data-v-83890dd9><!--[--><!--]--><main class="main" data-v-83890dd9><div style="position:relative;" class="vp-doc _juliahealth_github_io_OMOPCDMFeasibility_jl_previews_PR9_api" data-v-83890dd9><div><h1 id="OMOPCDMFeasibility" tabindex="-1">OMOPCDMFeasibility <a class="header-anchor" href="#OMOPCDMFeasibility" aria-label="Permalink to &quot;OMOPCDMFeasibility {#OMOPCDMFeasibility}&quot;">​</a></h1><p>Documentation for <a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl" target="_blank" rel="noreferrer">OMOPCDMFeasibility</a>.</p><ul><li><a href="#OMOPCDMFeasibility._concept_col-Tuple{Symbol}"><code>OMOPCDMFeasibility._concept_col</code></a></li><li><a href="#OMOPCDMFeasibility._counter_reducer-Tuple{Any, Any}"><code>OMOPCDMFeasibility._counter_reducer</code></a></li><li><a href="#OMOPCDMFeasibility._create_cartesian_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"><code>OMOPCDMFeasibility._create_cartesian_profile_table</code></a></li><li><a href="#OMOPCDMFeasibility._create_individual_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"><code>OMOPCDMFeasibility._create_individual_profile_table</code></a></li><li><a href="#OMOPCDMFeasibility._domain_id_to_table-Tuple{String}"><code>OMOPCDMFeasibility._domain_id_to_table</code></a></li><li><a href="#OMOPCDMFeasibility._format_number-Tuple{Any}"><code>OMOPCDMFeasibility._format_number</code></a></li><li><a href="#OMOPCDMFeasibility._funsql-Tuple{Any}"><code>OMOPCDMFeasibility._funsql</code></a></li><li><a href="#OMOPCDMFeasibility._get_category_name-Tuple{Any, Any, Any}"><code>OMOPCDMFeasibility._get_category_name</code></a></li><li><a href="#OMOPCDMFeasibility._get_cohort_person_ids-Tuple{Any, Any, Any}"><code>OMOPCDMFeasibility._get_cohort_person_ids</code></a></li><li><a href="#OMOPCDMFeasibility._get_concept_name-Tuple{Any, Any}"><code>OMOPCDMFeasibility._get_concept_name</code></a></li><li><a href="#OMOPCDMFeasibility._get_concepts_by_domain-Tuple{Vector{&lt;:Integer}, Any}"><code>OMOPCDMFeasibility._get_concepts_by_domain</code></a></li><li><a href="#OMOPCDMFeasibility._get_database_total_patients-Tuple{Any}"><code>OMOPCDMFeasibility._get_database_total_patients</code></a></li><li><a href="#OMOPCDMFeasibility._get_person_ids_from_cohort_table-Tuple{Any, Any}"><code>OMOPCDMFeasibility._get_person_ids_from_cohort_table</code></a></li><li><a href="#OMOPCDMFeasibility._get_person_ids_from_dataframe-Tuple{Any}"><code>OMOPCDMFeasibility._get_person_ids_from_dataframe</code></a></li><li><a href="#OMOPCDMFeasibility._resolve_table-Tuple{FunSQL.SQLConnection, Symbol}"><code>OMOPCDMFeasibility._resolve_table</code></a></li><li><a href="#OMOPCDMFeasibility._setup_domain_query-Tuple{Any}"><code>OMOPCDMFeasibility._setup_domain_query</code></a></li><li><a href="#OMOPCDMFeasibility.analyze_concept_distribution-Tuple{Any}"><code>OMOPCDMFeasibility.analyze_concept_distribution</code></a></li><li><a href="#OMOPCDMFeasibility.analyze_concept_distribution"><code>OMOPCDMFeasibility.analyze_concept_distribution</code></a></li><li><a href="#OMOPCDMFeasibility.create_cartesian_profiles"><code>OMOPCDMFeasibility.create_cartesian_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.create_cartesian_profiles-Tuple{}"><code>OMOPCDMFeasibility.create_cartesian_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.create_individual_profiles"><code>OMOPCDMFeasibility.create_individual_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.create_individual_profiles-Tuple{}"><code>OMOPCDMFeasibility.create_individual_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.generate_domain_breakdown"><code>OMOPCDMFeasibility.generate_domain_breakdown</code></a></li><li><a href="#OMOPCDMFeasibility.generate_domain_breakdown-Tuple{Any}"><code>OMOPCDMFeasibility.generate_domain_breakdown</code></a></li><li><a href="#OMOPCDMFeasibility.generate_summary-Tuple{Any}"><code>OMOPCDMFeasibility.generate_summary</code></a></li><li><a href="#OMOPCDMFeasibility.generate_summary"><code>OMOPCDMFeasibility.generate_summary</code></a></li></ul><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._concept_col-Tuple{Symbol}" href="#OMOPCDMFeasibility._concept_col-Tuple{Symbol}"><span class="jlbinding">OMOPCDMFeasibility._concept_col</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_concept_col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tblsym</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol</span></span></code></pre></div><p>Generates the concept column name for a given table symbol.</p><p>This is an internal helper function that constructs the appropriate concept column name based on table naming conventions. Special handling is provided for the person table which uses gender_concept_id.</p><p><strong>Arguments</strong></p><ul><li><code>tblsym</code> - The table symbol</li></ul><p><strong>Returns</strong></p><ul><li><code>Symbol</code> - The concept column name for that table</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">col </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _concept_col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:condition_occurrence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :condition_concept_id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">col </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _concept_col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :gender_concept_id</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L434-L457" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._counter_reducer-Tuple{Any, Any}" href="#OMOPCDMFeasibility._counter_reducer-Tuple{Any, Any}"><span class="jlbinding">OMOPCDMFeasibility._counter_reducer</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_counter_reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sub, funcs) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Any</span></span></code></pre></div><p>Applies a sequence of functions to a subject, reducing through function composition.</p><p>This internal helper function sequentially applies each function in the funcs vector to the result of the previous function, starting with sub.</p><p><strong>Arguments</strong></p><ul><li><p><code>sub</code> - Initial subject/input to transform</p></li><li><p><code>funcs</code> - Vector of functions to apply sequentially</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Any</code> - Result after applying all functions</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _counter_reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sum])</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Equivalent to: sum([1,2,3] .* 2) = sum([2,4,6]) = 12</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L516-L536" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._create_cartesian_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}" href="#OMOPCDMFeasibility._create_cartesian_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"><span class="jlbinding">OMOPCDMFeasibility._create_cartesian_profile_table</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_create_cartesian_profile_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(df, cols, cohort_size, database_size, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create a Cartesian product profile table with all covariate combinations.</p><p><strong>Arguments</strong></p><ul><li><p><code>df</code> - DataFrame with demographic data</p></li><li><p><code>cols</code> - Vector of column names to include in combinations</p></li><li><p><code>cohort_size</code> - Total cohort size</p></li><li><p><code>database_size</code> - Total database population size</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li><li><p><code>dialect</code> - SQL dialect (default: :postgresql)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Table with all covariate combinations and statistics</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L326-L342" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._create_individual_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}" href="#OMOPCDMFeasibility._create_individual_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"><span class="jlbinding">OMOPCDMFeasibility._create_individual_profile_table</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_create_individual_profile_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(df, col, cohort_size, database_size, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create an individual profile table for a single covariate column.</p><p><strong>Arguments</strong></p><ul><li><p><code>df</code> - DataFrame with demographic data</p></li><li><p><code>col</code> - Column name to profile</p></li><li><p><code>cohort_size</code> - Total cohort size</p></li><li><p><code>database_size</code> - Total database population size</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li><li><p><code>dialect</code> - SQL dialect (default: :postgresql)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Profile table with covariate categories and statistics</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L241-L257" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._domain_id_to_table-Tuple{String}" href="#OMOPCDMFeasibility._domain_id_to_table-Tuple{String}"><span class="jlbinding">OMOPCDMFeasibility._domain_id_to_table</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(domain_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol</span></span></code></pre></div><p>Maps OMOP domain_id strings to their corresponding database table symbols.</p><p>This function provides the mapping between OMOP domain classifications and the actual database tables where those concepts are stored. It includes special handling for person-related domains and falls back to a naming convention for unknown domains.</p><p><strong>Arguments</strong></p><ul><li><code>domain_id</code> - OMOP domain identifier string (e.g., &quot;Condition&quot;, &quot;Drug&quot;)</li></ul><p><strong>Returns</strong></p><ul><li><code>Symbol</code> - Database table symbol (e.g., :condition_occurrence, :drug_exposure)</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Condition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :condition_occurrence</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Gender&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :person</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CustomDomain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :customdomain_occurrence</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L616-L642" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._format_number-Tuple{Any}" href="#OMOPCDMFeasibility._format_number-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility._format_number</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span></code></pre></div><p>Formats a number into a human-readable string with appropriate scaling.</p><p>This utility function formats numbers using common abbreviations:</p><ul><li><p>Numbers ≥ 1,000,000 are formatted as &quot;X.XM&quot; (millions)</p></li><li><p>Numbers ≥ 1,000 are formatted as &quot;X.XK&quot; (thousands)</p></li><li><p>Numbers &lt; 1,000 are formatted as integers with ties rounded up</p></li></ul><p><strong>Arguments</strong></p><ul><li><code>n</code> - Number to format</li></ul><p><strong>Returns</strong></p><ul><li><code>String</code> - Formatted number string</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1234567</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;1.2M&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5432</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;5.4K&quot; </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;1&quot;</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L582-L605" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._funsql-Tuple{Any}" href="#OMOPCDMFeasibility._funsql-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility._funsql</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_funsql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SQLConnection</span></span></code></pre></div><p>Creates a FunSQL connection with database schema reflection.</p><p>This internal function sets up a FunSQL SQLConnection with the appropriate database dialect and schema reflection for query building. Use :postgresql for DuckDB and :sqlite for SQLite.</p><p><strong>Arguments</strong></p><ul><li><code>conn</code> - Raw database connection</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>SQLConnection</code> - FunSQL connection object with reflected schema</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L466-L483" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_category_name-Tuple{Any, Any, Any}" href="#OMOPCDMFeasibility._get_category_name-Tuple{Any, Any, Any}"><span class="jlbinding">OMOPCDMFeasibility._get_category_name</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_category_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value, col, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Get the human-readable category name for a covariate value.</p><p><strong>Arguments</strong></p><ul><li><p><code>value</code> - The value to convert (concept ID or string)</p></li><li><p><code>col</code> - The column name</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li><li><p><code>dialect</code> - SQL dialect (default: :postgresql)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>String</code> - Human-readable category name</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L301-L315" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_cohort_person_ids-Tuple{Any, Any, Any}" href="#OMOPCDMFeasibility._get_cohort_person_ids-Tuple{Any, Any, Any}"><span class="jlbinding">OMOPCDMFeasibility._get_cohort_person_ids</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_cohort_person_ids</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cohort_definition_id, cohort_df, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Extract person IDs from either a cohort definition ID or a cohort DataFrame.</p><p><strong>Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition in the cohort table (or nothing)</p></li><li><p><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column (or nothing)</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code> - Vector of unique person IDs</li></ul><p><strong>Notes</strong></p><ul><li><p>You must provide exactly one of <code>cohort_definition_id</code> or <code>cohort_df</code> (not both).</p></li><li><p>If both are provided, an error is thrown.</p></li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L95-L112" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_concept_name-Tuple{Any, Any}" href="#OMOPCDMFeasibility._get_concept_name-Tuple{Any, Any}"><span class="jlbinding">OMOPCDMFeasibility._get_concept_name</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_concept_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(concept_id, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span></code></pre></div><p>Retrieves the human-readable name for a given OMOP concept ID.</p><p><strong>Arguments</strong></p><ul><li><p><code>concept_id</code> - OMOP CDM concept ID to look up</p></li><li><p><code>conn</code> - Database connection using DBInterface</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>String</code> - The concept name, or &quot;Unknown&quot; if the concept ID is not found</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _get_concept_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8507</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conn)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;Male&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _get_concept_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">999999</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conn) </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;Unknown&quot;</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L1-L25" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_concepts_by_domain-Tuple{Vector{&lt;:Integer}, Any}" href="#OMOPCDMFeasibility._get_concepts_by_domain-Tuple{Vector{&lt;:Integer}, Any}"><span class="jlbinding">OMOPCDMFeasibility._get_concepts_by_domain</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_concepts_by_domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(concept_ids</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dict{String, Vector{Int}}</span></span></code></pre></div><p>Groups a list of OMOP concept IDs by their domain classification.</p><p>This function queries the concept table to determine which domain each concept belongs to (e.g., &quot;Condition&quot;, &quot;Drug&quot;, &quot;Procedure&quot;) and returns them grouped by domain.</p><p><strong>Arguments</strong></p><ul><li><p><code>concept_ids</code> - Vector of OMOP concept IDs to classify</p></li><li><p><code>conn</code> - Database connection using DBInterface</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, Vector{Int}}</code> - Dictionary mapping domain names to vectors of concept IDs</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">concepts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">201820</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">192671</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1503297</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">domains </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _get_concepts_by_domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(concepts, conn)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: Dict(&quot;Condition&quot; =&gt; [201820, 192671], &quot;Drug&quot; =&gt; [1503297])</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L39-L64" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_database_total_patients-Tuple{Any}" href="#OMOPCDMFeasibility._get_database_total_patients-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility._get_database_total_patients</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_database_total_patients</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Get the total number of patients in the database.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Int</code> - Total count of people in the person table</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L215-L226" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_person_ids_from_cohort_table-Tuple{Any, Any}" href="#OMOPCDMFeasibility._get_person_ids_from_cohort_table-Tuple{Any, Any}"><span class="jlbinding">OMOPCDMFeasibility._get_person_ids_from_cohort_table</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_person_ids_from_cohort_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cohort_definition_id, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Extract person IDs from the cohort table using a cohort definition ID.</p><p><strong>Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code> - Vector of unique person IDs (subject_id from cohort table)</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L133-L145" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._get_person_ids_from_dataframe-Tuple{Any}" href="#OMOPCDMFeasibility._get_person_ids_from_dataframe-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility._get_person_ids_from_dataframe</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_person_ids_from_dataframe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cohort_df)</span></span></code></pre></div><p>Extract person IDs from a cohort DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code> - Vector of unique person IDs from the DataFrame</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L178-L188" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._resolve_table-Tuple{FunSQL.SQLConnection, Symbol}" href="#OMOPCDMFeasibility._resolve_table-Tuple{FunSQL.SQLConnection, Symbol}"><span class="jlbinding">OMOPCDMFeasibility._resolve_table</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_resolve_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fconn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SQLConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tblsym</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Table</span></span></code></pre></div><p>Resolves a table symbol to its corresponding FunSQL table object.</p><p>This internal function looks up a table by name in the FunSQL catalog, performing case-insensitive matching.</p><p><strong>Arguments</strong></p><ul><li><p><code>fconn</code> - FunSQL SQLConnection object</p></li><li><p><code>tblsym</code> - Table symbol to resolve</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Table</code> - FunSQL table object</li></ul><p><strong>Throws</strong></p><ul><li><code>ErrorException</code> - If the table is not found in the catalog</li></ul><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L488-L505" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility._setup_domain_query-Tuple{Any}" href="#OMOPCDMFeasibility._setup_domain_query-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility._setup_domain_query</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_setup_domain_query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NamedTuple</span></span></code></pre></div><p>Sets up the necessary components for querying a specific domain table.</p><p>This internal function prepares all the components needed to query a domain-specific table including the FunSQL connection, resolved table objects, and appropriate concept column name.</p><p><strong>Arguments</strong></p><ul><li><code>conn</code> - Database connection</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>domain</code> - Domain table symbol (e.g., :condition_occurrence)</p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>NamedTuple</code> - Contains fconn, tbl, concept_table, and concept_col components</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">setup </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _setup_domain_query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:condition_occurrence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: (fconn=..., tbl=..., concept_table=..., concept_col=:condition_concept_id)</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/utils.jl#L544-L569" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility.analyze_concept_distribution-Tuple{Any}" href="#OMOPCDMFeasibility.analyze_concept_distribution-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility.analyze_concept_distribution</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">analyze_concept_distribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Function[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Analyzes the distribution of medical concepts across patient demographics by automatically detecting domains.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>concept_set</code> - Vector of OMOP concept IDs to analyze; must be subtype of <code>Integer</code></p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>covariate_funcs</code> - Vector of OMOPCDMCohortCreator functions for demographic stratification. Default: <code>Function[]</code></p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Summary statistics with columns for concept information, domain, covariate values, and patient counts (<code>count</code>)</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Basic concept summary with automatic domain detection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> analyze_concept_distribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># With demographic breakdown</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> analyze_concept_distribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[GetPatientGender, GetPatientAgeGroup]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/precohort.jl#L1-L36" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility.create_cartesian_profiles-Tuple{}" href="#OMOPCDMFeasibility.create_cartesian_profiles-Tuple{}"><span class="jlbinding">OMOPCDMFeasibility.create_cartesian_profiles</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_cartesian_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_definition_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Int, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{DataFrame, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates Cartesian product demographic profiles for a cohort by analyzing all combinations of covariates.</p><p>This function generates a single DataFrame containing all possible combinations of demographic covariates (e.g., gender × race × age_group), providing comprehensive cross-tabulated statistics for detailed post-cohort feasibility analysis. Column order matches the input <code>covariate_funcs</code> order, and results are sorted by covariate values for interpretable output.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>covariate_funcs</code> - Vector of covariate functions from OMOPCDMCohortCreator (must contain at least 2 functions)</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition in the cohort table (or nothing). Either this or <code>cohort_df</code> must be provided</p></li><li><p><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column (or nothing). Either this or <code>cohort_definition_id</code> must be provided</p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;dbt_synthea_dev&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Cross-tabulated profile table with all covariate combinations and statistics</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OMOPCDMCohortCreator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GetPatientAgeGroup, GetPatientGender, GetPatientRace</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cartesian_profiles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> create_cartesian_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> my_cohort_df,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [GetPatientAgeGroup, GetPatientGender, GetPatientRace]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/postcohort.jl#L88-L128" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility.create_individual_profiles-Tuple{}" href="#OMOPCDMFeasibility.create_individual_profiles-Tuple{}"><span class="jlbinding">OMOPCDMFeasibility.create_individual_profiles</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_individual_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_definition_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Int, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{DataFrame, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates individual demographic profile tables for a cohort by analyzing each covariate separately.</p><p>This function generates separate DataFrames for each demographic covariate (e.g., gender, race, age group), providing detailed statistics including cohort and database-level percentages for post-cohort feasibility analysis. Results are sorted alphabetically by covariate values for consistent, readable output.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>covariate_funcs</code> - Vector of covariate functions from OMOPCDMCohortCreator (e.g., <code>GetPatientGender</code>, <code>GetPatientRace</code>)</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition in the cohort table (or nothing). Either this or <code>cohort_df</code> must be provided</p></li><li><p><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column (or nothing). Either this or <code>cohort_definition_id</code> must be provided</p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;dbt_synthea_dev&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>NamedTuple</code> - Named tuple with keys corresponding to covariate names, each containing a DataFrame with covariate categories and statistics</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OMOPCDMCohortCreator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GetPatientGender, GetPatientRace, GetPatientAgeGroup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">individual_profiles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> create_individual_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> my_cohort_df,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [GetPatientGender, GetPatientRace, GetPatientAgeGroup]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/postcohort.jl#L1-L40" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility.generate_domain_breakdown-Tuple{Any}" href="#OMOPCDMFeasibility.generate_domain_breakdown-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility.generate_domain_breakdown</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">generate_domain_breakdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Function[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Generates a detailed breakdown of feasibility metrics by medical domain.</p><p>This function provides domain-specific statistics showing concepts, patients, records, and coverage for each medical domain in the concept set. This is useful for understanding which domains contribute most to study feasibility.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>concept_set</code> - Vector of OMOP concept IDs to analyze; must be subtype of <code>Integer</code></p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>covariate_funcs</code> - Vector of OMOPCDMCohortCreator functions for demographic analysis. Default: <code>Function[]</code></p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li><li><p><code>raw_values</code> - If true, returns raw numerical values; if false, returns formatted strings. Default: <code>false</code></p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Domain-specific metrics with columns: <code>metric</code>, <code>value</code>, <code>interpretation</code>, and <code>domain</code></li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get formatted breakdown (default)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">breakdown </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_domain_breakdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get raw numerical values for calculations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">breakdown_raw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_domain_breakdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/precohort.jl#L284-L321" target="_blank" rel="noreferrer">source</a><!--]--></span></details><details class="jldocstring custom-block" open><summary><a id="OMOPCDMFeasibility.generate_summary-Tuple{Any}" href="#OMOPCDMFeasibility.generate_summary-Tuple{Any}"><span class="jlbinding">OMOPCDMFeasibility.generate_summary</span></a> <span class="VPBadge info jlObjectType jlMethod"><!--[-->Method<!--]--></span></summary><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">generate_summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Function[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Generates a summary of feasibility metrics for the given concept set.</p><p>This function provides high-level summary statistics including total patients, eligible patients, total records, and population coverage metrics. This is useful for getting a quick overview of study feasibility without detailed domain breakdowns.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>concept_set</code> - Vector of OMOP concept IDs to analyze; must be subtype of <code>Integer</code></p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>covariate_funcs</code> - Vector of OMOPCDMCohortCreator functions for demographic analysis. Default: <code>Function[]</code></p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li><li><p><code>raw_values</code> - If true, returns raw numerical values; if false, returns formatted strings. Default: <code>false</code></p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Summary metrics with columns: <code>metric</code>, <code>value</code>, <code>interpretation</code>, and <code>domain</code></li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get formatted summary (default)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">summary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get raw numerical values for calculations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">summary_raw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><span class="VPBadge info source-link"><!--[--><a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/df5b99d3b8e39ff91a8c885bf6e80f6011020a28/src/precohort.jl#L113-L150" target="_blank" rel="noreferrer">source</a><!--]--></span></details></div></div></main><footer class="VPDocFooter" data-v-83890dd9 data-v-4f9813fa><!--[--><!--]--><div class="edit-info" data-v-4f9813fa><div class="edit-link" data-v-4f9813fa><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/edit/master/docs/src/api.md" target="_blank" rel="noreferrer" data-v-4f9813fa><!--[--><span class="vpi-square-pen edit-link-icon" data-v-4f9813fa></span> Edit this page<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f9813fa><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f9813fa>Pager</span><div class="pager" data-v-4f9813fa><a class="VPLink link pager-link prev" href="/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/postcohort" data-v-4f9813fa><!--[--><span class="desc" data-v-4f9813fa>Previous page</span><span class="title" data-v-4f9813fa>Post-Cohort Analysis</span><!--]--></a></div><div class="pager" data-v-4f9813fa><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-a9a9e638 data-v-c970a860><div class="container" data-v-c970a860><p class="message" data-v-c970a860>Made with <a href="https://luxdl.github.io/DocumenterVitepress.jl/dev/" target="_blank"><strong>DocumenterVitepress.jl</strong></a><br></p><p class="copyright" data-v-c970a860>© Copyright 2026.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"CbT_0bMn\",\"api.md\":\"B85eYiyt\",\"index.md\":\"Bu15kou7\",\"postcohort.md\":\"CgxdINYe\",\"precohort.md\":\"u1u-Uvf_\",\"quickstart.md\":\"B-DQpFik\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OMOPCDMFeasibility.jl\",\"description\":\"Documentation for OMOPCDMFeasibility.jl\",\"base\":\"/juliahealth.github.io/OMOPCDMFeasibility.jl/previews/PR9/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"logo\":{\"src\":\"/logo.png\",\"width\":24,\"height\":24},\"search\":{\"provider\":\"local\",\"options\":{\"detailedView\":true}},\"nav\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"About\",\"link\":\"/about\"},{\"text\":\"Quickstart\",\"link\":\"/quickstart\"},{\"text\":\"Pre-Cohort Analysis\",\"link\":\"/precohort\"},{\"text\":\"Post-Cohort Analysis\",\"link\":\"/postcohort\"},{\"text\":\"API\",\"link\":\"/api\"},{\"component\":\"VersionPicker\"}],\"sidebar\":[{\"text\":\"Home\",\"link\":\"/index\"},{\"text\":\"About\",\"link\":\"/about\"},{\"text\":\"Quickstart\",\"link\":\"/quickstart\"},{\"text\":\"Pre-Cohort Analysis\",\"link\":\"/precohort\"},{\"text\":\"Post-Cohort Analysis\",\"link\":\"/postcohort\"},{\"text\":\"API\",\"link\":\"/api\"}],\"editLink\":{\"pattern\":\"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/edit/master/docs/src/:path\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl\"}],\"footer\":{\"message\":\"Made with <a href=\\\"https://luxdl.github.io/DocumenterVitepress.jl/dev/\\\" target=\\\"_blank\\\"><strong>DocumenterVitepress.jl</strong></a><br>\",\"copyright\":\"© Copyright 2026.\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>