import{_ as p,C as o,o as h,c as r,aA as e,j as s,a as n,E as t,w as l}from"./chunks/framework.rkdvRrta.js";const L=JSON.parse('{"title":"OMOPCDMFeasibility","description":"","frontmatter":{},"headers":[],"relativePath":"api.md","filePath":"api.md","lastUpdated":null}'),d={name:"api.md"},k={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""},u={class:"jldocstring custom-block",open:""},y={class:"jldocstring custom-block",open:""},E={class:"jldocstring custom-block",open:""},b={class:"jldocstring custom-block",open:""},_={class:"jldocstring custom-block",open:""},m={class:"jldocstring custom-block",open:""},F={class:"jldocstring custom-block",open:""},C={class:"jldocstring custom-block",open:""},f={class:"jldocstring custom-block",open:""},D={class:"jldocstring custom-block",open:""},M={class:"jldocstring custom-block",open:""},A={class:"jldocstring custom-block",open:""},O={class:"jldocstring custom-block",open:""},v={class:"jldocstring custom-block",open:""},T={class:"jldocstring custom-block",open:""},j={class:"jldocstring custom-block",open:""},P={class:"jldocstring custom-block",open:""},B={class:"jldocstring custom-block",open:""};function q(S,i,I,x,V,w){const a=o("Badge");return h(),r("div",null,[i[84]||(i[84]=e('<h1 id="OMOPCDMFeasibility" tabindex="-1">OMOPCDMFeasibility <a class="header-anchor" href="#OMOPCDMFeasibility" aria-label="Permalink to &quot;OMOPCDMFeasibility {#OMOPCDMFeasibility}&quot;">​</a></h1><p>Documentation for <a href="https://github.com/JuliaHealth/OMOPCDMFeasibility.jl" target="_blank" rel="noreferrer">OMOPCDMFeasibility</a>.</p><ul><li><a href="#OMOPCDMFeasibility._concept_col-Tuple{Symbol}"><code>OMOPCDMFeasibility._concept_col</code></a></li><li><a href="#OMOPCDMFeasibility._counter_reducer-Tuple{Any, Any}"><code>OMOPCDMFeasibility._counter_reducer</code></a></li><li><a href="#OMOPCDMFeasibility._create_cartesian_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"><code>OMOPCDMFeasibility._create_cartesian_profile_table</code></a></li><li><a href="#OMOPCDMFeasibility._create_individual_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"><code>OMOPCDMFeasibility._create_individual_profile_table</code></a></li><li><a href="#OMOPCDMFeasibility._domain_id_to_table-Tuple{String}"><code>OMOPCDMFeasibility._domain_id_to_table</code></a></li><li><a href="#OMOPCDMFeasibility._format_number-Tuple{Any}"><code>OMOPCDMFeasibility._format_number</code></a></li><li><a href="#OMOPCDMFeasibility._funsql-Tuple{Any}"><code>OMOPCDMFeasibility._funsql</code></a></li><li><a href="#OMOPCDMFeasibility._get_category_name-Tuple{Any, Any, Any}"><code>OMOPCDMFeasibility._get_category_name</code></a></li><li><a href="#OMOPCDMFeasibility._get_cohort_person_ids-Tuple{Any, Any, Any}"><code>OMOPCDMFeasibility._get_cohort_person_ids</code></a></li><li><a href="#OMOPCDMFeasibility._get_concept_name-Tuple{Any, Any}"><code>OMOPCDMFeasibility._get_concept_name</code></a></li><li><a href="#OMOPCDMFeasibility._get_concepts_by_domain-Tuple{Vector{&lt;:Integer}, Any}"><code>OMOPCDMFeasibility._get_concepts_by_domain</code></a></li><li><a href="#OMOPCDMFeasibility._get_database_total_patients-Tuple{Any}"><code>OMOPCDMFeasibility._get_database_total_patients</code></a></li><li><a href="#OMOPCDMFeasibility._get_person_ids_from_cohort_table-Tuple{Any, Any}"><code>OMOPCDMFeasibility._get_person_ids_from_cohort_table</code></a></li><li><a href="#OMOPCDMFeasibility._get_person_ids_from_dataframe-Tuple{Any}"><code>OMOPCDMFeasibility._get_person_ids_from_dataframe</code></a></li><li><a href="#OMOPCDMFeasibility._resolve_table-Tuple{FunSQL.SQLConnection, Symbol}"><code>OMOPCDMFeasibility._resolve_table</code></a></li><li><a href="#OMOPCDMFeasibility._setup_domain_query-Tuple{Any}"><code>OMOPCDMFeasibility._setup_domain_query</code></a></li><li><a href="#OMOPCDMFeasibility.analyze_concept_distribution"><code>OMOPCDMFeasibility.analyze_concept_distribution</code></a></li><li><a href="#OMOPCDMFeasibility.analyze_concept_distribution-Tuple{Any}"><code>OMOPCDMFeasibility.analyze_concept_distribution</code></a></li><li><a href="#OMOPCDMFeasibility.create_cartesian_profiles-Tuple{}"><code>OMOPCDMFeasibility.create_cartesian_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.create_cartesian_profiles"><code>OMOPCDMFeasibility.create_cartesian_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.create_individual_profiles"><code>OMOPCDMFeasibility.create_individual_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.create_individual_profiles-Tuple{}"><code>OMOPCDMFeasibility.create_individual_profiles</code></a></li><li><a href="#OMOPCDMFeasibility.generate_domain_breakdown-Tuple{Any}"><code>OMOPCDMFeasibility.generate_domain_breakdown</code></a></li><li><a href="#OMOPCDMFeasibility.generate_domain_breakdown"><code>OMOPCDMFeasibility.generate_domain_breakdown</code></a></li><li><a href="#OMOPCDMFeasibility.generate_summary"><code>OMOPCDMFeasibility.generate_summary</code></a></li><li><a href="#OMOPCDMFeasibility.generate_summary-Tuple{Any}"><code>OMOPCDMFeasibility.generate_summary</code></a></li></ul>',3)),s("details",k,[s("summary",null,[i[0]||(i[0]=s("a",{id:"OMOPCDMFeasibility._concept_col-Tuple{Symbol}",href:"#OMOPCDMFeasibility._concept_col-Tuple{Symbol}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._concept_col")],-1)),i[1]||(i[1]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[3]||(i[3]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_concept_col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tblsym</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol</span></span></code></pre></div><p>Generates the concept column name for a given table symbol.</p><p>This is an internal helper function that constructs the appropriate concept column name based on table naming conventions. Special handling is provided for the person table which uses gender_concept_id.</p><p><strong>Arguments</strong></p><ul><li><code>tblsym</code> - The table symbol</li></ul><p><strong>Returns</strong></p><ul><li><code>Symbol</code> - The concept column name for that table</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">col </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _concept_col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:condition_occurrence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :condition_concept_id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">col </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _concept_col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :gender_concept_id</span></span></code></pre></div>`,9)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[2]||(i[2]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L434-L457",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",c,[s("summary",null,[i[4]||(i[4]=s("a",{id:"OMOPCDMFeasibility._counter_reducer-Tuple{Any, Any}",href:"#OMOPCDMFeasibility._counter_reducer-Tuple{Any, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._counter_reducer")],-1)),i[5]||(i[5]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[7]||(i[7]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_counter_reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sub, funcs) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Any</span></span></code></pre></div><p>Applies a sequence of functions to a subject, reducing through function composition.</p><p>This internal helper function sequentially applies each function in the funcs vector to the result of the previous function, starting with sub.</p><p><strong>Arguments</strong></p><ul><li><p><code>sub</code> - Initial subject/input to transform</p></li><li><p><code>funcs</code> - Vector of functions to apply sequentially</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Any</code> - Result after applying all functions</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _counter_reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sum])</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Equivalent to: sum([1,2,3] .* 2) = sum([2,4,6]) = 12</span></span></code></pre></div>`,9)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[6]||(i[6]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L516-L536",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",g,[s("summary",null,[i[8]||(i[8]=s("a",{id:"OMOPCDMFeasibility._create_cartesian_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}",href:"#OMOPCDMFeasibility._create_cartesian_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._create_cartesian_profile_table")],-1)),i[9]||(i[9]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[11]||(i[11]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_create_cartesian_profile_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(df, cols, cohort_size, database_size, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create a Cartesian product profile table with all covariate combinations.</p><p><strong>Arguments</strong></p><ul><li><p><code>df</code> - DataFrame with demographic data</p></li><li><p><code>cols</code> - Vector of column names to include in combinations</p></li><li><p><code>cohort_size</code> - Total cohort size</p></li><li><p><code>database_size</code> - Total database population size</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li><li><p><code>dialect</code> - SQL dialect (default: :postgresql)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Table with all covariate combinations and statistics</li></ul>',6)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[10]||(i[10]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L326-L342",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",u,[s("summary",null,[i[12]||(i[12]=s("a",{id:"OMOPCDMFeasibility._create_individual_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}",href:"#OMOPCDMFeasibility._create_individual_profile_table-Tuple{DataFrames.DataFrame, Any, Int64, Int64, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._create_individual_profile_table")],-1)),i[13]||(i[13]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[15]||(i[15]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_create_individual_profile_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(df, col, cohort_size, database_size, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Create an individual profile table for a single covariate column.</p><p><strong>Arguments</strong></p><ul><li><p><code>df</code> - DataFrame with demographic data</p></li><li><p><code>col</code> - Column name to profile</p></li><li><p><code>cohort_size</code> - Total cohort size</p></li><li><p><code>database_size</code> - Total database population size</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li><li><p><code>dialect</code> - SQL dialect (default: :postgresql)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Profile table with covariate categories and statistics</li></ul>',6)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[14]||(i[14]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L241-L257",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",y,[s("summary",null,[i[16]||(i[16]=s("a",{id:"OMOPCDMFeasibility._domain_id_to_table-Tuple{String}",href:"#OMOPCDMFeasibility._domain_id_to_table-Tuple{String}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._domain_id_to_table")],-1)),i[17]||(i[17]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[19]||(i[19]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(domain_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Symbol</span></span></code></pre></div><p>Maps OMOP domain_id strings to their corresponding database table symbols.</p><p>This function provides the mapping between OMOP domain classifications and the actual database tables where those concepts are stored. It includes special handling for person-related domains and falls back to a naming convention for unknown domains.</p><p><strong>Arguments</strong></p><ul><li><code>domain_id</code> - OMOP domain identifier string (e.g., &quot;Condition&quot;, &quot;Drug&quot;)</li></ul><p><strong>Returns</strong></p><ul><li><code>Symbol</code> - Database table symbol (e.g., :condition_occurrence, :drug_exposure)</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Condition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :condition_occurrence</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Gender&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :person</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _domain_id_to_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CustomDomain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: :customdomain_occurrence</span></span></code></pre></div>`,9)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[18]||(i[18]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L616-L642",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",E,[s("summary",null,[i[20]||(i[20]=s("a",{id:"OMOPCDMFeasibility._format_number-Tuple{Any}",href:"#OMOPCDMFeasibility._format_number-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._format_number")],-1)),i[21]||(i[21]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[23]||(i[23]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span></code></pre></div><p>Formats a number into a human-readable string with appropriate scaling.</p><p>This utility function formats numbers using common abbreviations:</p><ul><li><p>Numbers ≥ 1,000,000 are formatted as &quot;X.XM&quot; (millions)</p></li><li><p>Numbers ≥ 1,000 are formatted as &quot;X.XK&quot; (thousands)</p></li><li><p>Numbers &lt; 1,000 are formatted as integers with ties rounded up</p></li></ul><p><strong>Arguments</strong></p><ul><li><code>n</code> - Number to format</li></ul><p><strong>Returns</strong></p><ul><li><code>String</code> - Formatted number string</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1234567</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;1.2M&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5432</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;5.4K&quot; </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_format_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;1&quot;</span></span></code></pre></div>`,10)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[22]||(i[22]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L582-L605",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",b,[s("summary",null,[i[24]||(i[24]=s("a",{id:"OMOPCDMFeasibility._funsql-Tuple{Any}",href:"#OMOPCDMFeasibility._funsql-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._funsql")],-1)),i[25]||(i[25]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[27]||(i[27]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_funsql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SQLConnection</span></span></code></pre></div><p>Creates a FunSQL connection with database schema reflection.</p><p>This internal function sets up a FunSQL SQLConnection with the appropriate database dialect and schema reflection for query building. Use :postgresql for DuckDB and :sqlite for SQLite.</p><p><strong>Arguments</strong></p><ul><li><code>conn</code> - Raw database connection</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>SQLConnection</code> - FunSQL connection object with reflected schema</li></ul>',9)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[26]||(i[26]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L466-L483",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",_,[s("summary",null,[i[28]||(i[28]=s("a",{id:"OMOPCDMFeasibility._get_category_name-Tuple{Any, Any, Any}",href:"#OMOPCDMFeasibility._get_category_name-Tuple{Any, Any, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_category_name")],-1)),i[29]||(i[29]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[31]||(i[31]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_category_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value, col, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Get the human-readable category name for a covariate value.</p><p><strong>Arguments</strong></p><ul><li><p><code>value</code> - The value to convert (concept ID or string)</p></li><li><p><code>col</code> - The column name</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li><li><p><code>dialect</code> - SQL dialect (default: :postgresql)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>String</code> - Human-readable category name</li></ul>',6)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[30]||(i[30]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L301-L315",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",m,[s("summary",null,[i[32]||(i[32]=s("a",{id:"OMOPCDMFeasibility._get_cohort_person_ids-Tuple{Any, Any, Any}",href:"#OMOPCDMFeasibility._get_cohort_person_ids-Tuple{Any, Any, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_cohort_person_ids")],-1)),i[33]||(i[33]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[35]||(i[35]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_cohort_person_ids</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cohort_definition_id, cohort_df, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Extract person IDs from either a cohort definition ID or a cohort DataFrame.</p><p><strong>Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition in the cohort table (or nothing)</p></li><li><p><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column (or nothing)</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code> - Vector of unique person IDs</li></ul><p><strong>Notes</strong></p><ul><li><p>You must provide exactly one of <code>cohort_definition_id</code> or <code>cohort_df</code> (not both).</p></li><li><p>If both are provided, an error is thrown.</p></li></ul>',8)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[34]||(i[34]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L95-L112",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",F,[s("summary",null,[i[36]||(i[36]=s("a",{id:"OMOPCDMFeasibility._get_concept_name-Tuple{Any, Any}",href:"#OMOPCDMFeasibility._get_concept_name-Tuple{Any, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_concept_name")],-1)),i[37]||(i[37]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[39]||(i[39]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_concept_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(concept_id, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String</span></span></code></pre></div><p>Retrieves the human-readable name for a given OMOP concept ID.</p><p><strong>Arguments</strong></p><ul><li><p><code>concept_id</code> - OMOP CDM concept ID to look up</p></li><li><p><code>conn</code> - Database connection using DBInterface</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>String</code> - The concept name, or &quot;Unknown&quot; if the concept ID is not found</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _get_concept_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8507</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conn)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;Male&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _get_concept_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">999999</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conn) </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: &quot;Unknown&quot;</span></span></code></pre></div>`,10)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[38]||(i[38]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L1-L25",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",C,[s("summary",null,[i[40]||(i[40]=s("a",{id:"OMOPCDMFeasibility._get_concepts_by_domain-Tuple{Vector{<:Integer}, Any}",href:"#OMOPCDMFeasibility._get_concepts_by_domain-Tuple{Vector{<:Integer}, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_concepts_by_domain")],-1)),i[41]||(i[41]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[43]||(i[43]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_concepts_by_domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(concept_ids</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dict{String, Vector{Int}}</span></span></code></pre></div><p>Groups a list of OMOP concept IDs by their domain classification.</p><p>This function queries the concept table to determine which domain each concept belongs to (e.g., &quot;Condition&quot;, &quot;Drug&quot;, &quot;Procedure&quot;) and returns them grouped by domain.</p><p><strong>Arguments</strong></p><ul><li><p><code>concept_ids</code> - Vector of OMOP concept IDs to classify</p></li><li><p><code>conn</code> - Database connection using DBInterface</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, Vector{Int}}</code> - Dictionary mapping domain names to vectors of concept IDs</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">concepts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">201820</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">192671</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1503297</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">domains </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _get_concepts_by_domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(concepts, conn)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: Dict(&quot;Condition&quot; =&gt; [201820, 192671], &quot;Drug&quot; =&gt; [1503297])</span></span></code></pre></div>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[42]||(i[42]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L39-L64",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",f,[s("summary",null,[i[44]||(i[44]=s("a",{id:"OMOPCDMFeasibility._get_database_total_patients-Tuple{Any}",href:"#OMOPCDMFeasibility._get_database_total_patients-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_database_total_patients")],-1)),i[45]||(i[45]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[47]||(i[47]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_database_total_patients</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Get the total number of patients in the database.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Int</code> - Total count of people in the person table</li></ul>',6)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[46]||(i[46]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L215-L226",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",D,[s("summary",null,[i[48]||(i[48]=s("a",{id:"OMOPCDMFeasibility._get_person_ids_from_cohort_table-Tuple{Any, Any}",href:"#OMOPCDMFeasibility._get_person_ids_from_cohort_table-Tuple{Any, Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_person_ids_from_cohort_table")],-1)),i[49]||(i[49]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[51]||(i[51]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_person_ids_from_cohort_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cohort_definition_id, conn; schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Extract person IDs from the cohort table using a cohort definition ID.</p><p><strong>Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition</p></li><li><p><code>conn</code> - Database connection object</p></li><li><p><code>schema</code> - Database schema name (default: &quot;dbt_synthea_dev&quot;)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code> - Vector of unique person IDs (subject_id from cohort table)</li></ul>',6)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[50]||(i[50]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L133-L145",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",M,[s("summary",null,[i[52]||(i[52]=s("a",{id:"OMOPCDMFeasibility._get_person_ids_from_dataframe-Tuple{Any}",href:"#OMOPCDMFeasibility._get_person_ids_from_dataframe-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._get_person_ids_from_dataframe")],-1)),i[53]||(i[53]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[55]||(i[55]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_get_person_ids_from_dataframe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cohort_df)</span></span></code></pre></div><p>Extract person IDs from a cohort DataFrame.</p><p><strong>Arguments</strong></p><ul><li><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code> - Vector of unique person IDs from the DataFrame</li></ul>',6)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[54]||(i[54]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L178-L188",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",A,[s("summary",null,[i[56]||(i[56]=s("a",{id:"OMOPCDMFeasibility._resolve_table-Tuple{FunSQL.SQLConnection, Symbol}",href:"#OMOPCDMFeasibility._resolve_table-Tuple{FunSQL.SQLConnection, Symbol}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._resolve_table")],-1)),i[57]||(i[57]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[59]||(i[59]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_resolve_table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fconn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SQLConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tblsym</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Table</span></span></code></pre></div><p>Resolves a table symbol to its corresponding FunSQL table object.</p><p>This internal function looks up a table by name in the FunSQL catalog, performing case-insensitive matching.</p><p><strong>Arguments</strong></p><ul><li><p><code>fconn</code> - FunSQL SQLConnection object</p></li><li><p><code>tblsym</code> - Table symbol to resolve</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Table</code> - FunSQL table object</li></ul><p><strong>Throws</strong></p><ul><li><code>ErrorException</code> - If the table is not found in the catalog</li></ul>',9)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[58]||(i[58]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L488-L505",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",O,[s("summary",null,[i[60]||(i[60]=s("a",{id:"OMOPCDMFeasibility._setup_domain_query-Tuple{Any}",href:"#OMOPCDMFeasibility._setup_domain_query-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility._setup_domain_query")],-1)),i[61]||(i[61]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[63]||(i[63]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_setup_domain_query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NamedTuple</span></span></code></pre></div><p>Sets up the necessary components for querying a specific domain table.</p><p>This internal function prepares all the components needed to query a domain-specific table including the FunSQL connection, resolved table objects, and appropriate concept column name.</p><p><strong>Arguments</strong></p><ul><li><code>conn</code> - Database connection</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>domain</code> - Domain table symbol (e.g., :condition_occurrence)</p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>NamedTuple</code> - Contains fconn, tbl, concept_table, and concept_col components</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">setup </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _setup_domain_query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:condition_occurrence</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Returns: (fconn=..., tbl=..., concept_table=..., concept_col=:condition_concept_id)</span></span></code></pre></div>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[62]||(i[62]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/utils.jl#L544-L569",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",v,[s("summary",null,[i[64]||(i[64]=s("a",{id:"OMOPCDMFeasibility.analyze_concept_distribution-Tuple{Any}",href:"#OMOPCDMFeasibility.analyze_concept_distribution-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility.analyze_concept_distribution")],-1)),i[65]||(i[65]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[67]||(i[67]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">analyze_concept_distribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Function[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Analyzes the distribution of medical concepts across patient demographics by automatically detecting domains.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>concept_set</code> - Vector of OMOP concept IDs to analyze; must be subtype of <code>Integer</code></p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>covariate_funcs</code> - Vector of OMOPCDMCohortCreator functions for demographic stratification. Default: <code>Function[]</code></p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Summary statistics with columns for concept information, domain, covariate values, and patient counts (<code>count</code>)</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Basic concept summary with automatic domain detection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> analyze_concept_distribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># With demographic breakdown</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> analyze_concept_distribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[GetPatientGender, GetPatientAgeGroup]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,10)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[66]||(i[66]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/precohort.jl#L1-L36",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",T,[s("summary",null,[i[68]||(i[68]=s("a",{id:"OMOPCDMFeasibility.create_cartesian_profiles-Tuple{}",href:"#OMOPCDMFeasibility.create_cartesian_profiles-Tuple{}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility.create_cartesian_profiles")],-1)),i[69]||(i[69]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[71]||(i[71]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_cartesian_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_definition_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Int, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{DataFrame, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates Cartesian product demographic profiles for a cohort by analyzing all combinations of covariates.</p><p>This function generates a single DataFrame containing all possible combinations of demographic covariates (e.g., gender × race × age_group), providing comprehensive cross-tabulated statistics for detailed post-cohort feasibility analysis. Column order matches the input <code>covariate_funcs</code> order, and results are sorted by covariate values for interpretable output.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>covariate_funcs</code> - Vector of covariate functions from OMOPCDMCohortCreator (must contain at least 2 functions)</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition in the cohort table (or nothing). Either this or <code>cohort_df</code> must be provided</p></li><li><p><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column (or nothing). Either this or <code>cohort_definition_id</code> must be provided</p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;dbt_synthea_dev&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Cross-tabulated profile table with all covariate combinations and statistics</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OMOPCDMCohortCreator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GetPatientAgeGroup, GetPatientGender, GetPatientRace</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cartesian_profiles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> create_cartesian_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> my_cohort_df,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [GetPatientAgeGroup, GetPatientGender, GetPatientRace]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[70]||(i[70]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/postcohort.jl#L88-L128",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",j,[s("summary",null,[i[72]||(i[72]=s("a",{id:"OMOPCDMFeasibility.create_individual_profiles-Tuple{}",href:"#OMOPCDMFeasibility.create_individual_profiles-Tuple{}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility.create_individual_profiles")],-1)),i[73]||(i[73]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[75]||(i[75]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">create_individual_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_definition_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Int, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{DataFrame, Nothing}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dbt_synthea_dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates individual demographic profile tables for a cohort by analyzing each covariate separately.</p><p>This function generates separate DataFrames for each demographic covariate (e.g., gender, race, age group), providing detailed statistics including cohort and database-level percentages for post-cohort feasibility analysis. Results are sorted alphabetically by covariate values for consistent, readable output.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>covariate_funcs</code> - Vector of covariate functions from OMOPCDMCohortCreator (e.g., <code>GetPatientGender</code>, <code>GetPatientRace</code>)</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>cohort_definition_id</code> - ID of the cohort definition in the cohort table (or nothing). Either this or <code>cohort_df</code> must be provided</p></li><li><p><code>cohort_df</code> - DataFrame containing cohort with <code>person_id</code> column (or nothing). Either this or <code>cohort_definition_id</code> must be provided</p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;dbt_synthea_dev&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li></ul><p><strong>Returns</strong></p><ul><li><code>NamedTuple</code> - Named tuple with keys corresponding to covariate names, each containing a DataFrame with covariate categories and statistics</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OMOPCDMCohortCreator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GetPatientGender, GetPatientRace, GetPatientAgeGroup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">individual_profiles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> create_individual_profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cohort_df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> my_cohort_df,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [GetPatientGender, GetPatientRace, GetPatientAgeGroup]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[74]||(i[74]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/postcohort.jl#L1-L40",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",P,[s("summary",null,[i[76]||(i[76]=s("a",{id:"OMOPCDMFeasibility.generate_domain_breakdown-Tuple{Any}",href:"#OMOPCDMFeasibility.generate_domain_breakdown-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility.generate_domain_breakdown")],-1)),i[77]||(i[77]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[79]||(i[79]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">generate_domain_breakdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Function[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Generates a detailed breakdown of feasibility metrics by medical domain.</p><p>This function provides domain-specific statistics showing concepts, patients, records, and coverage for each medical domain in the concept set. This is useful for understanding which domains contribute most to study feasibility.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>concept_set</code> - Vector of OMOP concept IDs to analyze; must be subtype of <code>Integer</code></p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>covariate_funcs</code> - Vector of OMOPCDMCohortCreator functions for demographic analysis. Default: <code>Function[]</code></p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li><li><p><code>raw_values</code> - If true, returns raw numerical values; if false, returns formatted strings. Default: <code>false</code></p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Domain-specific metrics with columns: <code>metric</code>, <code>value</code>, <code>interpretation</code>, and <code>domain</code></li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get formatted breakdown (default)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">breakdown </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_domain_breakdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get raw numerical values for calculations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">breakdown_raw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_domain_breakdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[78]||(i[78]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/precohort.jl#L284-L321",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",B,[s("summary",null,[i[80]||(i[80]=s("a",{id:"OMOPCDMFeasibility.generate_summary-Tuple{Any}",href:"#OMOPCDMFeasibility.generate_summary-Tuple{Any}"},[s("span",{class:"jlbinding"},"OMOPCDMFeasibility.generate_summary")],-1)),i[81]||(i[81]=n()),t(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[83]||(i[83]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">generate_summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    conn;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector{&lt;:Integer}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    covariate_funcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Function}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Function[],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    schema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dialect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :postgresql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Generates a summary of feasibility metrics for the given concept set.</p><p>This function provides high-level summary statistics including total patients, eligible patients, total records, and population coverage metrics. This is useful for getting a quick overview of study feasibility without detailed domain breakdowns.</p><p><strong>Arguments</strong></p><ul><li><p><code>conn</code> - Database connection using DBInterface</p></li><li><p><code>concept_set</code> - Vector of OMOP concept IDs to analyze; must be subtype of <code>Integer</code></p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>covariate_funcs</code> - Vector of OMOPCDMCohortCreator functions for demographic analysis. Default: <code>Function[]</code></p></li><li><p><code>schema</code> - Database schema name. Default: <code>&quot;main&quot;</code></p></li><li><p><code>dialect</code> - Database dialect. Default: <code>:postgresql</code> (for DuckDB compatibility)</p></li><li><p><code>raw_values</code> - If true, returns raw numerical values; if false, returns formatted strings. Default: <code>false</code></p></li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code> - Summary metrics with columns: <code>metric</code>, <code>value</code>, <code>interpretation</code>, and <code>domain</code></li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get formatted summary (default)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">summary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get raw numerical values for calculations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">summary_raw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generate_summary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn; concept_set</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31967</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4059650</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], raw_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[82]||(i[82]=[s("a",{href:"https://github.com/JuliaHealth/OMOPCDMFeasibility.jl/blob/5550554a5187712fe80443b37afc82ba351cf547/src/precohort.jl#L113-L150",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})])])}const N=p(d,[["render",q]]);export{L as __pageData,N as default};
